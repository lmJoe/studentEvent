(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4c8de66"],{"29e3":function(e,t,i){},"32e8":function(e,t,i){"use strict";i.r(t);var m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"guestAddPage"},[t("Form",{ref:"formItem",attrs:{model:e.formItem,rules:e.ruleValidate,"label-width":90}},[t("FormItem",{attrs:{label:"访问人数",prop:"visitNum"}},[t("Input",{attrs:{placeholder:"请输入..."},model:{value:e.formItem.visitNum,callback:function(t){e.$set(e.formItem,"visitNum",t)},expression:"formItem.visitNum"}})],1),t("FormItem",{attrs:{label:"开始时间",prop:"startTime"}},[t("DatePicker",{attrs:{type:"datetime",placeholder:"请选择",format:"yyyy-MM-dd HH:mm"},on:{"on-ok":function(t){return e.choseStartTime()},"on-clear":function(t){return e.clearStartTime()}},model:{value:e.formItem.startTime,callback:function(t){e.$set(e.formItem,"startTime",t)},expression:"formItem.startTime"}})],1),t("FormItem",{attrs:{label:"结束时间",prop:"endTime"}},[t("DatePicker",{attrs:{type:"datetime",placeholder:"请选择",format:"yyyy-MM-dd HH:mm"},on:{"on-ok":function(t){return e.choseStartTime()},"on-clear":function(t){return e.clearStartTime()}},model:{value:e.formItem.endTime,callback:function(t){e.$set(e.formItem,"endTime",t)},expression:"formItem.endTime"}})],1)],1),t("Button",{staticClass:"submitBtn",attrs:{type:"primary"},on:{click:e.shureSubmit}},[e._v("确定")]),t("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},o=[],s=i("ade3"),r=(i("a9e3"),i("14d9"),i("b1d0")),a=i("1271"),n=i("3b2d"),c={name:"index",data:function(){return{title:"邀请填写",isStudent:!1,optPhone:"",isLoading:!1,formItem:{visitNum:"",startTime:"",endTime:""},ruleValidate:{visitNum:[{required:!0,message:"访问人数不能为空"}],startTime:[{required:!0,message:"开始时间不能为空"}],endTime:[{required:!0,message:"结束时间不能为空"}]}}},created:function(){document.title=this.title,this.optPhone=n["a"].getQueryVariable("phone")},activated:function(){document.title=this.title},mounted:function(){},methods:Object(s["a"])({addAskFun:function(){var e=this;this.isLoading=!0;var t={startTime:n["a"].changeTimeFormat(this.formItem.startTime),endTime:n["a"].changeTimeFormat(this.formItem.endTime),inviteCount:Number(this.formItem.visitNum),teacherPhone:Number(this.optPhone)};console.log("params",t),Object(r["a"])({method:"post",url:a["a"].recordUrl.buildInviteRec,data:t,headers:{"Content-Type":"application/json"}}).then((function(t){e.isLoading=!1,console.log("res",t),200==t.code?(console.log("res",t),e.$Message.info(t.msg),setTimeout((function(){e.$router.push({path:"invitedCode",query:{inviteId:t.data.id}})}),1500)):e.$Message.info(t.msg)})).catch((function(e){console.log(e)}))},shureSubmit:function(){this.formItem.visitNum?this.formItem.startTime?this.formItem.endTime?this.addAskFun():this.$Message.info("访客结束时间不能为空"):this.$Message.info("访客开始时间不能为空"):this.$Message.info("访问人数不能为空")},choseStartTime:function(){if(this.formItem.endTime){var e=this.formItem.startTime.getTime(),t=this.formItem.endTime.getTime();e>t&&(this.$Message.info("结束时间不能小于开始时间"),this.formItem.startTime="")}},choseEndTime:function(){if(this.formItem.startTime){var e=this.formItem.startTime.getTime(),t=this.formItem.endTime.getTime();e>t&&(this.$Message.info("结束时间不能小于开始时间"),this.formItem.endTime="")}},clearStartTime:function(){this.formItem.startTime=""}},"clearStartTime",(function(){this.formItem.endTime=""}))},u=c,d=(i("abca"),i("2877")),f=Object(d["a"])(u,m,o,!1,null,"200a4ff0",null);t["default"]=f.exports},abca:function(e,t,i){"use strict";i("29e3")}}]);