(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-370f6ba6"],{"232d":function(t,e,i){t.exports=i.p+"img/no-data.eca1736d.png"},c0b5:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"askListPage"},[e("div",{staticClass:"nowDate"},[t._v(t._s(t.nowDate))]),e("Table",{attrs:{border:"",columns:t.columns,data:t.dataList,size:"small"},scopedSlots:t._u([{key:"checkoutTime",fn:function(i){var a=i.row,o=i.index;return[""!==a.checkoutTime?e("span",[t._v(t._s(a.checkoutTime))]):t._e(),1==t.roleType&&""==a.checkoutTime?e("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.checkTime(o,a.eventId)}}},[t._v("点击登记")]):t._e()]}}])}),t.isNodata?e("div",{staticClass:"nodata"},[e("img",{attrs:{src:t.nodata,alt:""}}),e("span",[t._v("暂无数据")])]):t._e()],1)},o=[],n=(i("14d9"),i("a9e3"),i("b1d0")),s=i("1271"),c=i("3b2d"),d=i("232d"),l=i.n(d),r={name:"index",data:function(){return{title:"学生请假明细",schoolId:"",isNodata:!1,nodata:l.a,dataList:[],nowDate:"",roleType:"",id:"",columns:[{title:"学生姓名",key:"studentName",align:"center",fixed:"left",width:80},{title:"班级",key:"className",align:"center",width:100},{title:"请假时间",key:"leaveTimePeriod",align:"center",width:150},{title:"请假事由",key:"eventReason",align:"center",width:100},{title:"登记时间",slot:"checkoutTime",key:"checkoutTime",align:"center",fixed:"right",width:80}]}},created:function(){document.title=this.title,this.schoolId=c["a"].getQueryVariable("schoolId"),this.roleType=c["a"].getQueryVariable("roleType"),this.id=c["a"].getQueryVariable("id"),this.nowDate=c["a"].getDate(0)},activated:function(){document.title=this.title},mounted:function(){this.getAskList()},methods:{getAskList:function(){var t=this;Object(n["a"])({method:"get",url:s["a"].recordUrl.listGuardianCheckList+"?schoolId="+this.schoolId,data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){200==e.code?(e.data.length?t.isNodata=!1:t.isNodata=!0,t.dataList=e.data,console.log(t.dataList)):t.$Message.info(e.msg)})).catch((function(t){console.log(t)}))},toDetailVisit:function(){this.$router.push({path:"todayVisit",query:{schoolId:this.schoolId}})},checkTime:function(t,e){var i=this;console.log("index",t,e),Object(n["a"])({method:"post",url:s["a"].recordUrl.guardianCheckout+"?schoolId="+this.schoolId,data:{eventId:e,optPhone:"",checkoutStatus:1,guardianId:Number(this.id)},headers:{"Content-Type":"application/json"}}).then((function(t){200==t.code?(console.log("res",t),i.$Message.info(t.msg),i.getAskList()):i.$Message.info(t.msg)})).catch((function(t){console.log(t)}))}}},u=r,h=(i("e036"),i("2877")),g=Object(h["a"])(u,a,o,!1,null,"be7773d4",null);e["default"]=g.exports},c514:function(t,e,i){},e036:function(t,e,i){"use strict";i("c514")}}]);